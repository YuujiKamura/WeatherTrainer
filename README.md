# WeatherTrainer

ClaudeCodeと学ぶ予報士試験2025

## 目的
気象予報士試験対策におけるAI学習支援の実験的検証。試験で落とした問題を通じて学習効果を最大化する。
- AI（ClaudeCode）による気象学的概念の解説生成、GITを使用した進捗管理
- 複雑な気象現象の理解促進におけるAI活用可能性の探求

## 解説一覧

### 62回学科一般（間違えた問題）
- [62回学科一般_問2](問題解説/62回学科一般_問2.md) - 大気の鉛直構造・安定度
- [62回学科一般_問3](問題解説/62回学科一般_問3.md) - 大気の熱力学
- [62回学科一般_問6](問題解説/62回学科一般_問6.md) - 温帯低気圧の発達と前線
- [62回学科一般_問7](問題解説/62回学科一般_問7.md) - 温度風と熱風関係
- [62回学科一般_問8](問題解説/62回学科一般_問8.md) - 気象現象
- [62回学科一般_問9](問題解説/62回学科一般_問9.md) - 大気現象
- [62回学科一般_問10](問題解説/62回学科一般_問10.md) - 中層大気の気温と循環
- [62回学科一般_問11](問題解説/62回学科一般_問11.md) - 気候変動・地球温暖化
- [62回学科一般_問15](問題解説/62回学科一般_問15.md) - 水防法の規定

### 63回学科一般（間違えた問題）
- [63回一般_問1](問題解説/63回一般_問1.md) - 大気の構造
- [63回一般_問3](問題解説/63回一般_問3.md) - 大気の熱力学
- [63回一般_問5](問題解説/63回一般_問5.md) - 大気の運動
- [63回一般_問6](問題解説/63回一般_問6.md) - 大気の現象
- [63回一般_問7](問題解説/63回一般_問7.md) - 温度風と風の鉛直シア
- [63回一般_問8](問題解説/63回一般_問8.md) - 気象現象
- [63回一般_問10](問題解説/63回一般_問10.md) - 大気現象
- [63回一般_問13-14](問題解説/63回一般_問13-14.md) - 気象業務法・予報業務許可

## 学習方針
詳細な作業フローと学習方針については[CLAUDE.md](CLAUDE.md)を参照してください。

**重要な特徴**：
- **外部検索による検証**: AIの空想的解説ではなく、WebSearchで事実確認
- **対話内容の正確な記録**: 実際のプロンプトでの会話を再現
- **人間の視点重視**: 「なぜ間違えたのか」「どこで迷ったのか」から始める

## 作業フロー（Claude Code再起動時）
1. **間違い問題の特定**: Excelファイルから間違えた問題を確認
2. **PDF全体画像化**: `python extract_pdf_images.py [PDFパス] -s 1 -e [最終ページ]`で全ページを画像として抽出
3. **ターゲット問題の特定**: 人間が該当する問題のページ番号を指定
4. **問題文解析**: 指定されたページの画像をClaude Codeに読み込ませ、OCR機能で問題文を取得
5. **文字起こし精度確認・記録保存**: `問題解説/`フォルダにMarkdownファイルとして保存（図版がある場合は図版：リンク先の画像パスを記載）
6. **解説作成**: Claude Codeとの対話で詳細解説を作成、ClaudeCodeは履歴が残らないため、マークダウンは都度更新すること。
   - **推奨形式**: 試験で間違えた場合は実際の対話形式を採用
   - 間違えた選択肢とその理由を明記
   - Claude Codeとの自然な対話のやり取りをそのまま記録
   - 形式的なQ&Aではなく、実際のプロンプトでの会話を再現
   - **重要**: AI主導の解説は避ける。「知らん専門単語の札束で往復ビンタ・宇宙ロケット発射」状態になる
   - うまれたばかりの人間の視点を重視: 「なぜ間違えたのか」「どこで迷ったのか」から始める

## 気象業務支援センターが公開している過去問題について
- 図版ファイルをGitトラッキングに含めず、ローカルにのみ維持
- 問題文の文字起こしについても、厳密には転載許可が必要のはずだが、さすがにないと解説が意味不明なので現状維持、このあたりは良識の範囲内で都度対応していく。

## 利用可能なスクリプト

### read_pdf.py
PDFファイルから問題文を抽出するスクリプト

**注意:** 気象予報士試験の過去問PDFは暗号化等により文字化けが発生するため、実用性が低い。問題文の取得にはextract_pdf_images.pyでの画像化→OCRが推奨。

**使用方法:**
```bash
python read_pdf.py [PDFファイルパス]
python read_pdf.py [PDFファイルパス] -s [開始ページ] -e [終了ページ]
python read_pdf.py [PDFファイルパス] -m [最大文字数]
```

**オプション:**
- `-s, --start`: 開始ページ（1から始まる）
- `-e, --end`: 終了ページ
- `-m, --max-chars`: 最大表示文字数（デフォルト: 5000）

**必要ライブラリ:** PyMuPDF または PyPDF2

### read_xlsx.py
Excelファイルから学習記録や問題データを読み取るスクリプト

**使用方法:**
```bash
python read_xlsx.py [Excelファイルパス]
python read_xlsx.py [Excelファイルパス] -s [シート名]
python read_xlsx.py [Excelファイルパス] -l  # シート一覧表示
```

**オプション:**
- `-s, --sheet`: 読み取るシート名
- `-l, --list`: シート一覧を表示
- `--header`: ヘッダー行の番号（デフォルト: 0）

**必要ライブラリ:** pandas

### extract_pdf_images.py
PDFから図版を画像として抽出するスクリプト

**使用方法:**
```bash
python extract_pdf_images.py [PDFファイルパス] -p [ページ番号]
python extract_pdf_images.py [PDFファイルパス] -s [開始ページ] -e [終了ページ]
```

**オプション:**
- `-p, --page`: 抽出するページ番号（1から始まる）
- `-s, --start`: 開始ページ
- `-e, --end`: 終了ページ
- `-d, --dpi`: 解像度（デフォルト: 150）
- `-o, --output`: 出力ディレクトリ（デフォルト: extracted_images）

**必要ライブラリ:** PyMuPDF

## 技術要件
- Python 3.x
- Claude Code（解説作成用）
- 必要なPythonライブラリ：
  - PyMuPDF（fitz）
  - pandas
  - PyPDF2（オプション）